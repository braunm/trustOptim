<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trust Region Optimization for Nonlinear Functions with Sparse Hessians • trustOptim</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/spacelab/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Trust Region Optimization for Nonlinear Functions with Sparse Hessians">
<meta property="og:description" content="Trust region algorithm for nonlinear optimization. Efficient when the Hessian of the objective function is sparse (i.e., relatively few nonzero cross-partial derivatives). See Braun, M. (2014) &lt;doi:10.18637/jss.v060.i04&gt;.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-XVJF7FJCCT"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XVJF7FJCCT');
</script>
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">trustOptim</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.8.7.4</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/trustOptim-demo.html">Using trustOptim for Unconstrained Nonlinear Optimization with Sparse Hessians</a>
    </li>
    <li>
      <a href="articles/trustOptim-quick.html">A Quick Demo of trustOptim</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/braunm/trustOptim/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">

<div class="section level1">
<div class="page-header"><h1 id="the-trustoptim-package">The trustOptim package<a class="anchor" aria-label="anchor" href="#the-trustoptim-package"></a>
</h1></div>
<p><a href="https://braunm.github.io/trustOptim/">trustOptim</a> is an R package for unconstrained optimization of nonlinear objective functions with sparse Hessians. You should consider using this package if:</p>
<ul>
<li>you are optimizing over a large number of parameters;</li>
<li>you are able to provide a function that computes the gradient of the function analytically;</li>
<li>the Hessian of the objective function is sparse (i.e., there are relatively few nonzero cross-partial derivatives), and you can provide a function that computes the Hessian.</li>
<li>you desire the stability of a trust region optimization algorithm; and</li>
<li>you want an optimization algorithm that uses the norm of the gradient being zero (and not heuristics like “is the objective function making progress) as a stopping rule.</li>
</ul>
<p>A common use case for a sparse Hessian is a hierarchical model that assumes conditional independences across heterogeneous units. Even if the Hessian is not sparse, and/or it is hard to compute the Hessian analytically, this package does support BFGS and SR1 updates instead. But the real benefit of this package comes from exploiting the sparsity of the Hessian of the objective function.</p>
</div>
<div class="section level1">
<h1 id="getting-the-package">Getting the package<a class="anchor" aria-label="anchor" href="#getting-the-package"></a>
</h1>
<p>The latest release version is available on CRAN. You should be able to install it with a simple</p>
<pre><code>install.packages("trustOptim")`.</code></pre>
<p>The source code is available at <a href="https://github.com/braunm/trustOptim" class="external-link uri">https://github.com/braunm/trustOptim</a> .</p>
</div>
<div class="section level1">
<h1 id="using-the-package">Using the package<a class="anchor" aria-label="anchor" href="#using-the-package"></a>
</h1>
<p>The <code>trust.optim</code> function calls the optimizer.</p>
<p>The objective function is defined by three R functions, all of which take a numeric vector as the first argument.</p>
<ul>
<li>
<strong>f</strong>: provides the objective function as a numeric scalar value</li>
<li>
<strong>grad</strong>: provides the gradient as a numeric vector</li>
<li>
<strong>hess</strong>: provides the Hessian as a <em>dsCMatrix</em> object (from the <em>Matrix</em> package).</li>
</ul>
<p>Starting from parameter vector <em>x</em>, to minimize a function <strong>f</strong>, call</p>
<pre><code><span><span class="va">opt</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/trust.optim.html">trust.optim</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">f</span>, <span class="va">grad</span>, <span class="va">hess</span>, method<span class="op">=</span><span class="st">"Sparse"</span><span class="op">)</span></span></code></pre>
<p>See the vignettes for examples, and the package manual for details, options, etc.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=trustOptim" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/braunm/trustOptim/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/braunm/trustOptim/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>MPL (&gt;= 2.0)</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing trustOptim</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://braunm.github.io" class="external-link">Michael Braun</a> <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0003-4774-2119" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://braunm.github.io" class="external-link">Michael Braun</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
